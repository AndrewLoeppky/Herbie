
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HRRR-B Documentation &#8212; HRRR-B 0.0.1 documentation</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/brian_style.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="https://kit.fontawesome.com/f6cc126dcc.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="_static/wxicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="hrrrb" href="hrrrb.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="#">
    
      <img src="_static/HRRR-B_logo.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="hrrrb.html">hrrrb</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://blaylockbk.github.io/SynopticPy/_build/html/">SynopticPy<i class="fas fa-external-link-alt"></i></a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://blaylockbk.github.io/goes2go/_build/html/">GOES-2-go<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      <form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/blaylockbk/HRRR_archive_download" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/blaylockbk" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="" class="nav-link"></a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#" class="nav-link">HRRR-B Documentation</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#indices-and-tables" class="nav-link">Indices and tables</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/blaylockbk/HRRR_archive_download/edit/master/docs/index.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <img alt="_images/HRRR-B_logo.png" src="_images/HRRR-B_logo.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a work in progress</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="hrrrb.html">hrrrb</a></li>
</ul>
</div>
<div class="section" id="hrrr-b-documentation">
<h1>HRRR-B Documentation<a class="headerlink" href="#hrrr-b-documentation" title="Permalink to this headline">¬∂</a></h1>
<p>The HRRR is the foundation for the upcoming Rapid-Refresh Forecast System. Read some of the <a class="reference external" href="https://research.noaa.gov/article/ArtMID/587/ArticleID/2702/The-amazing-research-resume-of-High-Resolution-Rapid-Refresh-Model">HRRR‚Äôs achivements</a></p>
<p><a href="#id49"><span class="problematic" id="id50">|![](https://raw.githubusercontent.com/blaylockbk/SynopticPy/master/images/Balloon_logo/balloon_bkb_sm.png)|**Brian Blaylock**&lt;br&gt;üåê [Webpage](http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/home.html)&lt;br&gt;[üî© PyPI](https://pypi.org/user/blaylockbk/)
|:--|</span></a>:‚Äì|</p>
<p># Brian‚Äôs High-Resolution Rapid Refresh tools: HRRR-B</p>
<p><a href="#id51"><span class="problematic" id="id52">|HRRR Archive Website|**http://hrrr.chpc.utah.edu/**|</span></a>
<a href="#id53"><span class="problematic" id="id54">|--:|</span></a>:‚Äì|</p>
<p><strong>HRRR-B</strong>, or ‚ÄúHerbie,‚Äù is a python package for downloading recent and archived High Resolution Rapid Refresh (HRRR) model forecasts and opening HRRR data in an xarray.Dataset. I created most of this during my PhD and decided to organize what I created into a more coherent package. It will continue to evolve at my own leisure.</p>
<p>## About <cite>HRRR-B</cite>
HRRR model output is archived by the MesoWest group at the University of Utah on the [CHPC Pando Archive System](<a class="reference external" href="http://hrrr.chpc.utah.edu/">http://hrrr.chpc.utah.edu/</a>). The GRIB2 files are copied from from NCEP every couple hours. NOAA started pushing HRRR data to Google and AWS at in the later half of 2020. Between these data sources, there is a lot of archived HRRR data available. <strong>This Python package helps download those archived HRRR files.</strong></p>
<ul class="simple">
<li><p>Download full or partial HRRR GRIB2 files. Partial files are downloaded by GRIB message.</p></li>
<li><dl class="simple">
<dt>Different data sources: [NCEP-NOMADS](<a class="reference external" href="https://nomads.ncep.noaa.gov/">https://nomads.ncep.noaa.gov/</a>), [Pando (University of Utah)](<a class="reference external" href="http://hrrr.chpc.utah.edu/">http://hrrr.chpc.utah.edu/</a>), [Google Cloud Platform](<a class="reference external" href="https://console.cloud.google.com/storage/browser/high-resolution-rapid-refresh?pli=1">https://console.cloud.google.com/storage/browser/high-resolution-rapid-refresh?pli=1</a>), and [Amazon Web Services]().</dt><dd><ul>
<li><p>&gt; The Pando HRRR archive is in [process of moving to Amazon Web Services](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/issues/2">https://github.com/blaylockbk/HRRR_archive_download/issues/2</a>) as a public [Earth](<a class="reference external" href="https://aws.amazon.com/earth/">https://aws.amazon.com/earth/</a>) dataset. It will be available in [zarr](<a class="reference external" href="https://zarr.readthedocs.io/en/stable/">https://zarr.readthedocs.io/en/stable/</a>) format that will allow for more flexibility for chunked data requests. See [Issue #2](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/issues/2">https://github.com/blaylockbk/HRRR_archive_download/issues/2</a>).</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Open HRRR data as an xarray.Dataset.</p></li>
<li><p>Other useful tools (in development), like indexing nearest neighbor points and getting a cartopy crs object.</p></li>
</ul>
<p>&lt;img src=‚Äô<a class="reference external" href="https://raw.githubusercontent.com/blaylockbk/HRRR_archive_download/master/images/Herbie3.png">https://raw.githubusercontent.com/blaylockbk/HRRR_archive_download/master/images/Herbie3.png</a>‚Äô width=350 style=‚Äôfloat:right;margin:10px‚Äô align=right&gt;</p>
<p>## üåπ What‚Äôs in a name?
How do you pick the right name? For now, I settled on the name <strong>HRRR-B</strong>, pronounced ‚ÄúHerbie,‚Äù because this package helps you get data from the High-Resolution Rapid Refresh (HRRR) model, and the B is for Brian. Is it a little pretentious to attach your own name to a package? Maybe the B will stand for something else someday. I‚Äôm also thinking about just naming this ‚ÄúHerbie,‚Äù but that name is already taken on PyPI.</p>
<p>## Contributing Guidelines (and disclaimer)
The intent of this package is to serve as an _example_ of how you can download HRRR data from the Pando HRRR archive, but it might be useful for you. Since this package is a work in progress, it is distributed ‚Äúas is.‚Äù I do not make any guarantee it will work for you out of the box. Any revisions I make are purely for my benefit. Sorry if I break something, but I usually only push updates to GitHub if the code is in a reasonably functional state (at least, in the way I use it).</p>
<p>With that said, I am happy to share this project with you. You are welcome to open issues and submit pull requests, but know that I may or may not get around to doing anything about it. If this is helpful to you in any way, I‚Äôm glad.</p>
<p>&gt; ## What if I don‚Äôt like this package?
&gt; As an alternative you can use [rclone](<a class="reference external" href="https://rclone.org/">https://rclone.org/</a>) to download HRRR files from AWS or GCP. I quite like rclone. Here is a [short rclone tutorial](<a class="reference external" href="https://github.com/blaylockbk/pyBKB_v3/blob/master/rclone_howto.md">https://github.com/blaylockbk/pyBKB_v3/blob/master/rclone_howto.md</a>)</p>
<p>‚Äî</p>
<p># üêç Installation and Conda Environment
This package requires at least Python 3.7 (doesn‚Äôt work in 3.6 and earlier)</p>
<p>### Option 1: pip
Install the last published version from PyPI.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">pip</span> <span class="pre">install</span> <span class="pre">hrrrb</span>
<span class="pre">`</span></code></p>
<p>&gt; Requires: xarray, cfgrib, pandas, cartopy, requests, curl
&gt; Optional: matplotlib, cartopy</p>
<p>### Option 2: conda
If conda environments are new to you, I suggest you become familiar with [managing conda environments](<a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html</a>).</p>
<p>I have provided a sample Anaconda [environment.yml](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/environment.yml">https://github.com/blaylockbk/HRRR_archive_download/blob/master/environment.yml</a>) file that lists the minimum packages required plus some extras that might be useful when working with other types of weather data. Look at the bottom lines of that yaml file‚Ä¶there are two ways to install <cite>hrrrb</cite> with pip. Comment out the lines you don‚Äôt want.</p>
<p>For the latest development code:
<a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>yaml
- pip:</p>
<blockquote>
<div><ul class="simple">
<li><p>git+https://github.com/blaylockbk/HRRR_archive_download.git</p></li>
</ul>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a>`
For the latest published version
<a href="#id7"><span class="problematic" id="id8">``</span></a><a href="#id9"><span class="problematic" id="id10">`</span></a>yaml
- pip:</p>
<blockquote>
<div><ul class="simple">
<li><p>hrrrb</p></li>
</ul>
</div></blockquote>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a></p>
<p>First, create the virtual environment with</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">env</span> <span class="pre">create</span> <span class="pre">-f</span> <span class="pre">environment.yml</span>
<span class="pre">`</span></code></p>
<p>Then, activate the <cite>hrrrb</cite> environment. Don‚Äôt confuse this _environment_ name with the _package_ name.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">hrrrb</span>
<span class="pre">`</span></code></p>
<p>Occasionally, you might want to update all the packages in the environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">conda</span> <span class="pre">env</span> <span class="pre">update</span> <span class="pre">-f</span> <span class="pre">environment.yml</span>
<span class="pre">`</span></code></p>
<p>&gt; ### Alternative ‚ÄúInstall‚Äù Method
&gt; There are several other ways to ‚Äúinstall‚Äù a python package so you can import them. One alternatively is you can <cite>git clone https://github.com/blaylockbk/HRRR_archive_download.git</cite> this repository to any directory. To import the package, you will need to update your PYTHONPATH environment variable to find the directory you put this package or add the line <cite>sys.path.append(‚Äú/path/to/hrrrb‚Äù)</cite> at the top of your python script.</p>
<p>‚Äî</p>
<p># üìù Jupyter Notebooks</p>
<p>These notebooks show practical use case of the <cite>hrrrb</cite> package:
- [Main Package Examples](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/examples.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/examples.ipynb</a>)</p>
<p>These notebooks offer a deeper discussion on how the download process works. These are not intended for practical use, but should help illustrate my thought process when I created this package.
- [Part 1: How to download a bunch of HRRR grib2 files (full file)](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part1.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part1.ipynb</a>)
- [Part 2: How to download a subset of variables from a HRRR file](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part2.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part2.ipynb</a>)
- [Part 3: A function that can download many full files, or subset of files](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part3.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part3.ipynb</a>)
- [Part 4: Opening GRIB2 files in Python with xarray and cfgrib](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part4.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_download_hrrr_archive_part4.ipynb</a>)</p>
<p>These are additional notebooks for useful tips/tricks
- [How to make Cartopy maps with HRRR data with Brian‚Äôs <cite>common_features</cite> helper](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_plot-on-map-with-common-features.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/demo_plot-on-map-with-common-features.ipynb</a>)
‚Äî</p>
<p># üë®üèª‚Äçüíª <cite>hrrrb.archive</cite>
If you are looking for a no-fuss method to download the HRRR data you want, use the <cite>hrrrb.archive</cite> module.</p>
<p><code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">import</span> <span class="pre">hrrrb.archive</span> <span class="pre">as</span> <span class="pre">ha</span>
<span class="pre">`</span></code>
or
<code class="docutils literal notranslate"><span class="pre">`</span> <span class="pre">python</span>
<span class="pre">from</span> <span class="pre">hrrrb.archive</span> <span class="pre">import</span> <span class="pre">download_hrrr,</span> <span class="pre">xhrrr</span>
<span class="pre">`</span></code></p>
<p><a href="#id55"><span class="problematic" id="id56">|Main Functions|</span></a> What it will do for you‚Ä¶
<a href="#id57"><span class="problematic" id="id58">|--|</span></a>‚Äì
<a href="#id59"><span class="problematic" id="id60">|`download_hrrr`|</span></a> Downloads full or partial HRRR GRIB2 files to local disk.
<a href="#id15"><span class="problematic" id="id16">|</span></a><cite>xhrrr</cite> | Downloads single HRRR file and returns as an <cite>xarray.Dataset</cite> or list of Datasets.</p>
<p>## [üëâ Click Here For Some Examples](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/examples.ipynb">https://github.com/blaylockbk/HRRR_archive_download/blob/master/notebooks/examples.ipynb</a>)</p>
<p>## Function arguments</p>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>python
# Download full GRIB2 files to local disk
download_hrrr(DATES, searchString=None, <a href="#id21"><span class="problematic" id="id22">*</span></a>,</p>
<blockquote>
<div><p>fxx=range(0, 1),
model=‚Äôhrrr‚Äô,
field=‚Äôsfc‚Äô,
save_dir=_default_save_dir,
download_source_priority=None,
dryrun=False, verbose=True)</p>
</div></blockquote>
<p><a href="#id23"><span class="problematic" id="id24">``</span></a>`
<a href="#id25"><span class="problematic" id="id26">``</span></a><a href="#id27"><span class="problematic" id="id28">`</span></a>python
# Download file and open as xarray
xhrrr(DATE, searchString, fxx=0, <a href="#id29"><span class="problematic" id="id30">*</span></a>,</p>
<blockquote>
<div><p>DATE_is_valid_time=False,
remove_grib2=True,
add_crs=True,
<a href="#id31"><span class="problematic" id="id32">**</span></a>download_kwargs)</p>
</div></blockquote>
<p><a href="#id33"><span class="problematic" id="id34">``</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a></p>
<ul class="simple">
<li><p><cite>DATES</cite> Datetime or list of datetimes representing the model initialization time.</p></li>
<li><p><cite>searchString</cite> <strong>See note below</strong></p></li>
<li><dl class="simple">
<dt><cite>fxx</cite> Range or list of forecast hours.</dt><dd><ul>
<li><p>e.g., <cite>range(0,19)</cite> for F00-F18</p></li>
<li><p>Default is the model analysis (F00).</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>model</cite> The type of model.</dt><dd><ul>
<li><p>Options are <cite>hrrr</cite>, <cite>alaska</cite>, <cite>hrrrX</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>field</cite> The type of field file.</dt><dd><ul>
<li><p>Options are <cite>sfc</cite> and <cite>prs</cite></p></li>
<li><p><cite>nat</cite> and <cite>subh</cite> are only available for today and yesterday.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>save_dir</cite> The directory path the files will be saved in.</dt><dd><ul>
<li><p>Default downloads files into the user‚Äôs home directory <cite>~/data/hrrr</cite>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><cite>download_source_priority</cite> The default source priority is <cite>[‚Äòpando‚Äô, ‚Äògoogle‚Äô, ‚Äònomads‚Äô]</cite>, but you might want to instead try to download a file from Google before trying to get it from Pando. In that case, set to <cite>[‚Äògoogle‚Äô, ‚Äòpando‚Äô, ‚Äònomads‚Äô]</cite>.</p></li>
<li><p><cite>dryrun</cite> If <cite>True</cite>, the function will tell you what it will download but not actually download anything.</p></li>
<li><p><cite>verbose</cite> If <cite>True</cite>, prints lots of info to the screen.</p></li>
</ul>
<p>Specific to <cite>xhrrr</cite>:
- <cite>DATE_is_valid_time</cite> For <em>xhrrr</em>, if <cite>True</cite> the input DATE will represent the valid time. If <cite>False</cite>, DATE represents the the model run time.
- <cite>remove_grib2</cite> For <em>xhrrr</em>, the grib2 file downloaded will be removed after reading the data into an xarray Dataset.
- <cite>add_crs</cite> For <em>xhrrr</em>, will create a cartopy coordinate reference system object and append it as a Dataset attribute.</p>
<p>## The <strong>`searchString`</strong> argument
<cite>searchString</cite> is used to specify select variables you want to download. For example, instead of downloading the full GRIB2 file, you could download just the wind or precipitation variables. Read the docstring for the functions or look at [notebook #2](./notebooks/demo_download_hrrr_archive_part2.ipynb) for more details.</p>
<p><cite>searchString</cite> uses regular expression to search for GRIB message lines in the files .idx file. There must be a .idx file for the GRIB2 file for the search to work.</p>
<p>For reference, here are some useful examples to give you some ideas‚Ä¶</p>
<p><a href="#id61"><span class="problematic" id="id62">|`searchString=`|</span></a> GRIB fields that will be downloaded
<a href="#id63"><span class="problematic" id="id64">|--|</span></a>‚Äì
<a href="#id65"><span class="problematic" id="id66">|`':TMP:2 m'`      | Temperature at 2 m
|`':TMP:'`         | Temperature fields at all levels
|``':UGRD:.* mb'`` | U Wind at all pressure levels.
|`':500 mb:'`      | All variables on the 500 mb level
|`':APCP:'`        | All accumulated precipitation fields
|`':APCP:surface:0-[1-9]*'` | Accumulated since initialization time
|`':APCP:surface:[1-9]*-[1-9]*'`|</span></a> Accumulated over last hour
<a href="#id67"><span class="problematic" id="id68">|`':UGRD:10 m'`   | U wind component at 10 meters
|`':(U\|V)GRD:'`    | U and V wind component at all levels
|`':.GRD:'`        | (Same as above)
|`'(WIND\|GUST\|UGRD\|VGRD):(surface\|10 m)`|</span></a> Surface wind, surface gusts, and 10 m u- v-components
<a href="#id69"><span class="problematic" id="id70">|`':(TMP\|DPT):'`   | Temperature and Dew Point for all levels
|`':(TMP\|DPT\|RH):'`|</span></a> TMP, DPT, and Relative Humidity for all levels
<a href="#id71"><span class="problematic" id="id72">|`':REFC:'`        | Composite Reflectivity
|`:(APCP\|REFC):`|</span></a> Precipitation and reflectivity
<a href="#id37"><span class="problematic" id="id38">|</span></a><cite>‚Äô:surface:‚Äô</cite>     | All variables at the surface
<a href="#id39"><span class="problematic" id="id40">|</span></a><cite>‚Äô((U|V)GRD:10 m|TMP:2 m|APCP)‚Äô</cite> | 10-m wind, 2-m temp, and accumulated precipitation.</p>
<p>&lt;br&gt;&lt;br&gt;</p>
<p>&gt; <strong>Are you working with precipitation fields? (e.g., APCP)</strong>
&gt;A lot of users have asked why the precipitation accumulation fields are all zero for the model analysis (F00). That is because it is an <em>accumulation</em> variable over a period of time. At the model analysis time, there has been no precipitation because no time has passed.
&gt;
&gt;- <strong>F00</strong> only has a 0-0 hour accumulation (always zero)
&gt;- <strong>F01</strong> only has a 0-1 hour accumulation
&gt;- <strong>F02</strong> has a 0-2 hour accumulation and a 1-2 hour accumulation.
&gt;- <strong>F03</strong> has a 0-3 hour accumulation and a 2-3 hour accumulation.
&gt;- etc.
&gt;
&gt; NOTE: When cfgrib reads a grib file with more than one accumulated precipitation fields, it will not read all the fields. I think this is an issue with cfgrib (see [issue here](<a class="reference external" href="https://github.com/ecmwf/cfgrib/issues/187">https://github.com/ecmwf/cfgrib/issues/187</a>)). The way around this is to key in on a <em>single</em> APCP field. See the <cite>searchString</cite> examples above for keying in on a single APCP field.
&lt;br&gt;</p>
<p>### Quickly look at GRIB files in the command line
There are two tools for looking at GRIB file contents in the command line.
1. <cite>wgrib2</cite> : can be installed via conda-forge in your environment. A product from NOAA.
2. <cite>grib_ls</cite> : is a dependency of cfgrib and is included when you install cfgrib in your environment. A product from ECMWF.</p>
<p>For the sample precipitation data, below is the output using both tools</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">wgrib2</span> <span class="pre">subset_20201214_hrrr.t00z.wrfsfcf12.grib2</span>
<span class="pre">1:0:d=2020121400:APCP:surface:0-12</span> <span class="pre">hour</span> <span class="pre">acc</span> <span class="pre">fcst:</span>
<span class="pre">2:887244:d=2020121400:APCP:surface:11-12</span> <span class="pre">hour</span> <span class="pre">acc</span> <span class="pre">fcst:</span>
<span class="pre">`</span></code></p>
<p><a href="#id41"><span class="problematic" id="id42">``</span></a><a href="#id43"><span class="problematic" id="id44">`</span></a>bash
$ grib_ls subset_20201214_hrrr.t00z.wrfsfcf12.grib2
subset_20201214_hrrr.t00z.wrfsfcf12.grib2
edition      centre       date         dataType     gridType     typeOfLevel  level        stepRange    shortName    packingType
2            kwbc         20201214     fc           lambert      surface      0            0-12         tp           grid_complex_spatial_differencing
2            kwbc         20201214     fc           lambert      surface      0            11-12        tp           grid_complex_spatial_differencing
2 of 2 messages in subset_20201214_hrrr.t00z.wrfsfcf12.grib2</p>
<p>2 of 2 total messages in 1 files
<a href="#id45"><span class="problematic" id="id46">``</span></a><a href="#id47"><span class="problematic" id="id48">`</span></a></p>
<p>I hope some of these tips are helpful to you.</p>
<p><strong>Best of luck üçÄ</strong>
- Brian</p>
<p>‚Äî</p>
<p>üåê HRRR Archive Website: <a class="reference external" href="http://hrrr.chpc.utah.edu/">http://hrrr.chpc.utah.edu/</a>
üöë Support: [GitHub Issues](<a class="reference external" href="https://github.com/blaylockbk/HRRR_archive_download/issues">https://github.com/blaylockbk/HRRR_archive_download/issues</a>) or <a class="reference external" href="mailto:atmos-mesowest&#37;&#52;&#48;lists&#46;utah&#46;edu">atmos-mesowest<span>&#64;</span>lists<span>&#46;</span>utah<span>&#46;</span>edu</a>
üìß Brian Blaylock: <a class="reference external" href="mailto:blaylockbk&#37;&#52;&#48;gmail&#46;com">blaylockbk<span>&#64;</span>gmail<span>&#46;</span>com</a>
‚úí Pando HRRR Archive citation details:
&gt; Blaylock B., J. Horel and S. Liston, 2017: Cloud Archiving and Data Mining of High Resolution Rapid Refresh Model Output. Computers and Geosciences. 109, 43-50. <a class="reference external" href="https://doi.org/10.1016/j.cageo.2017.08.005">https://doi.org/10.1016/j.cageo.2017.08.005</a></p>
<p>Thanks for using HRRR-B
![](<a class="reference external" href="https://raw.githubusercontent.com/blaylockbk/HRRR_archive_download/master/images/herbie.jpg">https://raw.githubusercontent.com/blaylockbk/HRRR_archive_download/master/images/herbie.jpg</a>)</p>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¬∂</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='right-next' id="next-link" href="hrrrb.html" title="next page">hrrrb</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021, Brian K. Blaylock.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>